<!DOCTYPE html>
<!--

  _                    _  _                 _         _
 | |                  | |(_)               | |       | |
 | | __ ___   _ __  __| | _  _ __    __ _  | |  __ _ | |__
 | |/ // _ \ | '__|/ _` || || '_ \  / _` | | | / _` || '_ \
 |   <| (_) || |  | (_| || || | | || (_| | | || (_| || |_) |
 |_|\_\\___/ |_|   \__,_||_||_| |_| \__, | |_| \__,_||_.__/
                                     __/ |
                                    |___/


I love those that desire the impossible - Goethe.
(if you get email from Konrad, you will see this quote)

                boing         boing         boing
      e-e           . - .         . - .         . - .
     (\_/)\       '       `.   ,'       `.   ,'       .
      `-'\ `--.___,         . .           . .          .
         '\( ,_.-'
            \\               "             "            a:f
            ^'

^ This is basically T-Rex jumping

-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Introduction to Lab Resources</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
  <link href="http://localhost:4000/css/zoom.css" rel="stylesheet">
  <script src="http://localhost:4000/js/zoom.js"></script>
  <script src="http://localhost:4000/js/transition.js"></script>

  <link rel="stylesheet" href="/css/style.css">
  <!-- favicon -->

  <!--<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/logo/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/logo/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/logo/apple-touch-icon-114x114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/logo/apple-touch-icon-144x144-precomposed.png">
  -->

  <!-- open graph -->

  
  
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:url" content="http://localhost:4000/2019/11/20/intro-resources.html">
  <meta property="og:title" content="Introduction to Lab Resources">
  <meta property="og:site_name" content="SENSE Lab at The Ohio State University">
  <meta property="og:description" content="
  Introduction to Lab Resources
  posted on November 20, 2019
  
  Introduction to Lab Resources

Local Computational Resources

We currently have..." />
  <!--<meta property="og:image" content="http://localhost:4000/images/logo/logo_square.jpg">-->

</head>

<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//kordinglab.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<body id="page-top" style="padding-top: 7em;">

    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class='navbar-brand page-scroll' href='/'>
              <span style='font-family:"Open Sans" font-weight:300'>SENSE Lab</span>
              </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <ul class="nav navbar-nav navbar-right">
                      
                      <li><a class='name' href="/">home</a></li>
                      
                      <li><a class='name' href="/about">about</a></li>
                      
                      <li><a class='name' href="/publication">publications</a></li>
                      
                      <li><a class='name' href="/people">people</a></li>
                      
                      <li><a class='name' href="/blog">blog</a></li>
                      
                      <li><a class='name' href="/resources">resources</a></li>
                      
                    </ul>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
</nav>

    <div class="container content post">
  <h3><strong>Introduction to Lab Resources</strong><br/>
  <small>posted on November 20, 2019</small></h3>
  <hr>
  <h1 id="introduction-to-lab-resources">Introduction to Lab Resources</h1>

<h2 id="local-computational-resources">Local Computational Resources</h2>

<p>We currently have three local machines named Bleen, Dolores, and Quadcorn.</p>

<table>
  <thead>
    <tr>
      <th>Machine</th>
      <th>OS</th>
      <th>CPU</th>
      <th>GPU</th>
      <th>RAM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Dolores</td>
      <td>Ubuntu</td>
      <td>i9-7920X @ 2.90 GHz - 12 cores</td>
      <td>3x GTX 1080 Ti, 1x RTX 2080 Ti</td>
      <td>94 Gb</td>
    </tr>
    <tr>
      <td>Bleen</td>
      <td>Ubuntu</td>
      <td>i7-6850k @ 3.60GHz - 6 cores</td>
      <td>4x GTX 1080 Ti</td>
      <td>64 GB</td>
    </tr>
    <tr>
      <td>Quadcorn</td>
      <td>Mint</td>
      <td>i7-5960X @ 3.00GHz - 8 Cores</td>
      <td>3x GTX 1080 Ti, 1x RTX 2080 Ti</td>
      <td>64 Gb</td>
    </tr>
  </tbody>
</table>

<h3 id="getting-started">Getting Started</h3>

<p><strong>Getting an account</strong></p>

<p>You can either email a senior lab member for help, or, if you know some bash, create an account yourself.
First, ask around to get the password to the admin account. Type <code class="language-plaintext highlighter-rouge">useradd my_username</code> to create
and account, then <code class="language-plaintext highlighter-rouge">passwd my_username</code> to make a password. Make sure it’s a good one so we don’t get hacked.
(These servers are on the web and vulnerable to password-guessing hacks.)
Finally, make sure to copy a <code class="language-plaintext highlighter-rouge">.profile</code> and <code class="language-plaintext highlighter-rouge">.bash_profile</code> file from an existing user to steal their setup (with Anaconda, etc.)</p>

<p><strong>Setting Up Anaconda</strong></p>

<p>Anaconda is a python environment manager. This allows separate users to easily have different versions of python as well as different versions of packages.
Individual users can also create separate environments if different projects have conflicting version needs.</p>

<p>All the servers already have a system-wide Anaconda installed. Test to make sure you are seeing it
by typing <code class="language-plaintext highlighter-rouge">which conda</code>. See which environments exist by typing <code class="language-plaintext highlighter-rouge">conda-env list</code>.</p>

<p>These environments are good if you need standard things (Pytorch, etc.).
If you need to install your own software, you should create an environment of your own.</p>

<p><a href="https://docs.anaconda.com/anaconda/install/linux/">installation instructions</a></p>

<p><a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">creating and managing environments</a></p>

<p><strong>Useful Commands</strong></p>

<p><a href="http://kordinglab.com/2018/09/20/bleen-quadcorn-commands.html">See here</a></p>

<h3 id="common-issues">Common Issues</h3>

<p><strong>Dolores</strong></p>

<p>Spontaneous restarting: A bug in intel’s CPU sometimes causes Dolores to restart spontaneously when if Turbo Mode is enabled. To prevent this, run the following command everytime the machine is booted up:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "1" | sudo tee /sys/devices/system/cpu/intel_pstate/no_turbo
</code></pre></div></div>

<p>To permanently disable do the following:</p>

<p>Disable Turbo for i9 CPU</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Boot up machine


Press DEL or F2 (repeatedly)  to enter the BIOS


Enter Advanced Mode (F7)


Navigate to Advanced  in the horizontal options bar


Press enter on CPU Configuration


Scroll down to the bottom and enter into CPU Power Management Configuration


Navigate to Turbo Mode and press enter and change to Disabled
</code></pre></div></div>

<h3 id="workflow">Workflow</h3>

<p><strong>Screen</strong></p>

<p>The screen function is used to manage virtual terminals that can run in the background. These virtual terminals continue to persist after you disconnect from the ssh terminal. That allows you to run long programs without needing to stay connected, as well as run jupyter notebook sessiosn that won’t crash if you disconnect. <a href="https://www.gnu.org/software/screen/manual/screen.html">Here is a page with extensive documentation</a>.</p>

<p>In the screen documentation, “C-“ refers to clicking “Ctrl+c”. For example, the command “C-a” means “Click ‘Ctrl+c’ then click ‘a’”.</p>

<p>Basics of Screen:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen -S &lt;name of screen&gt;
</code></pre></div></div>

<p>The -S option allows you to create a new screen, and give it a name. This makes it easy to reconnect afterwards.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C-a
</code></pre></div></div>

<p>C-a is the command to detatch from the screen and return to your base terminal.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen -r &lt;name of screen&gt;
</code></pre></div></div>

<p>The -r command allows you to reconnect to a screen with the name you have given it. To get a list of currently open and running screens, type “screen -r” without a name.</p>

<p>Occasionally a screen will be listed as “attached” while you are actually not connected to it. In that case use the -d command to attach to screens that for some reason remain listed as attached.</p>

<p><strong>Jupyter Notebook/Lab</strong></p>

<p>I recommend running notebook sessions within a virtual terminal from the screen function. That way if you momentarily lose connection, your session won’t be closed.</p>

<p>To start a jupyter notebook or lab session type:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jupyter notebook --no-browser --port=&lt;XXXX&gt; or

jupyter lab --no-browser --port=&lt;XXXX&gt;
</code></pre></div></div>

<p>where XXXX is an unused port number.<br />
Next on your local machine’s terminal type:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh -N -f -L localhost:YYYY:localhost:XXXX ribeiro@dolores.seas.upenn.edu
</code></pre></div></div>

<p>Use the same XXXX and above. YYYY is any port number available on your local machine.</p>

<p>Finally, open your browser and connect to ‘localhost:YYYY’. You may be prompted to input a password, which is found on the screen in which you launched the jupyter session.</p>

<p><strong>Matlab</strong></p>

<h3 id="best-practices">Best Practices</h3>

<p>Please be mindful of the storage you are using, especially in the home folder. Most machines have seperate hardrives, generally under a folder named /data<X>, where you can store large datasets. Additionally, if you are finished with a project on home, it is best to move it to one of these other drives. Use the command</X></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>df -h to get a list of all drives and their available space.
</code></pre></div></div>

<h3 id="miscellaneous-tips-and-tricks">Miscellaneous Tips and Tricks</h3>

  <ul class="share-buttons">
  <a style="color:#3b5998;" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2019/11/20/intro-resources.html" title="Share on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
  <a style="color:#0084b4;" href="https://twitter.com/intent/tweet?text=http://localhost:4000/2019/11/20/intro-resources.html" title="Share on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
</ul>

  <div id="disqus_thread"></div>
</div>


    <script id="dsq-count-scr" src="//kordinglab.disqus.com/count.js" async></script>
    <script src="http://code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-34145995-1");
    pageTracker._trackPageview();
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34145995-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-34145995-1');
    </script>

</body>
</html>
